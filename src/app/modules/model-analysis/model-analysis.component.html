<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="pb-3 border-bottom">Import your model</h5>

                    <div class="form-group py-3 border-bottom">
                        <input class="form-control" type="file" (change)="selectFile($event)" accept=".csv" />
                    </div>

                    <div class="py-3">
                        <div *ngIf="currentFile" class="progress">
                          <div
                            class="progress-bar progress-bar-striped progress-bar-animated"
                            role="progressbar"
                            attr.aria-valuenow="{{ progress }}"
                            aria-valuemin="0"
                            aria-valuemax="100"
                            [ngStyle]="{ width: progress + '%' }"
                          >
                            {{ progress }}%
                          </div>
                        </div>

                        <div *ngIf="message">
                            <span class="justify-content-center my-3"> <i>{{message}}</i></span>
                          </div>
                      </div>

                    <p class="mb-1 pt-3">Do not know how to begin? Start from example data!</p>
                    <a href="https://lillian5120.shinyapps.io/RConcluder/_w_c7d2cc6f/session/93b482af3ce4e654803d33d1ce83979f/download/downloadData?w=c7d2cc6f">
                        Example Data Download
                    </a>

                    <div class="btns pt-3">
                        <button class="btn btn-primary w-100 mb-2">Reset Tree</button>
                        <button class="btn btn-primary w-100">Reset Tree Weight</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="pb-3 border-bottom">Add Node</h5>

                                    <div class="form-group pt-3">
                                        <div class="form-floating">
                                            <select class="form-select" [(ngModel)]='addNodeNameParent'>
                                                <option *ngFor="let node of nodes " [ngValue]="node.id">{{node.nodeName}}</option>
                                            </select>
                                            <label>Parent Name</label>
                                        </div>
                                        <div class="form-floating mt-3">
                                            <input type="text" class="form-control" placeholder="New Name" [(ngModel)]="nodeNameInput" />
                                            <label class="text-danger">New Name*</label>
                                        </div>

                                        <button class="btn btn-primary mt-3 w-100" (click)="addNode()">Add</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="pb-3 border-bottom">Change Node</h5>

                                    <div class="form-group pt-3">
                                        <div class="form-floating">
                                            <select class="form-select" [(ngModel)]='renameParentNodeId'>
                                                <option *ngFor="let node of nodes " [ngValue]="node.id">{{node.nodeName}}</option>
                                            </select>
                                            <label>Name to change</label>
                                        </div>
                                        <div class="form-floating mt-3">
                                            <input type="text" class="form-control" placeholder="New Name" [(ngModel)]="updateNameOfNode" />
                                            <label class="text-danger">New Name*</label>
                                        </div>

                                        <button class="btn btn-info mt-3 w-100" (click)="updateNode()">Change</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="pb-3 border-bottom">Delete Node</h5>

                                    <div class="form-group pt-3">
                                        <div class="form-floating">
                                            <select class="form-select" [(ngModel)]='deleteNodeName'>
                                                <option *ngFor="let node of nodes " [ngValue]="node.id">{{node.nodeName}}</option>
                                            </select>
                                            <label>Name to delete</label>
                                        </div>
                                        <div class="mt-3">
                                            <p class="mb-0">Attention: The children of this node will be removed too!</p>
                                        </div>

                                        <button class="btn btn-danger mt-3 w-100" (click)="deleteNode()">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="pb-3 border-bottom">Analysis</h5>

                                    <div class="form-floating mt-3">
                                        <input type="text" class="form-control" placeholder="Inconsistency Tolerance Level" value="0.33" />
                                        <label>Inconsistency Tolerance</label>
                                    </div>

                                    <div class="form-group pt-3">
                                        <div class="form-floating">
                                            <select class="form-select">
                                                <option *ngFor="let node of nodes " [ngValue]="node.id">{{node.nodeName}}</option>
                                            </select>
                                            <label>Parent node name</label>
                                        </div>

                                        <button class="btn btn-info mt-3 w-100">Analysis</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>